{"remainingRequest":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/src/components/Modify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/src/components/Modify.vue","mtime":1614855931362},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXRhYmFzZSBmcm9tICIuLi9maXJlYmFzZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgZGF0YXBhY2tldDogW10sCiAgICAgIGRhdGFwYWNrZXRDb3B5OiBbXSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEl0ZW1zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJlbnRlcmVkOiIgKyB0aGlzLmlkKTsKICAgICAgZGF0YWJhc2UKICAgICAgICAuY29sbGVjdGlvbigib3JkZXJzIikKICAgICAgICAuZG9jKHRoaXMuaWQpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHNuYXBzaG90KSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFwYWNrZXQgPSBzbmFwc2hvdC5kYXRhKCkub3JkZXI7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlT3JkZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImNoZWNrdXBkYXRlLS0tLS0gIik7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhcGFja2V0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpLnZhbHVlID09ICIiKSB7CiAgICAgICAgICB0aGlzLmRhdGFwYWNrZXRDb3B5LnB1c2goeyBuYW1lOiB0aGlzLmRhdGFwYWNrZXRbaV0ubmFtZSwgcXR5OiAwIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRhdGFwYWNrZXRDb3B5LnB1c2goewogICAgICAgICAgICBuYW1lOiB0aGlzLmRhdGFwYWNrZXRbaV0ubmFtZSwKICAgICAgICAgICAgcXR5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKS52YWx1ZSwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBkYXRhYmFzZQogICAgICAgIC5jb2xsZWN0aW9uKCJvcmRlcnMiKQogICAgICAgIC5kb2ModGhpcy5pZCkKICAgICAgICAuc2V0KHsKICAgICAgICAgIG9yZGVyOiB0aGlzLmRhdGFwYWNrZXRDb3B5LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAib3JkZXJzIiB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Modify.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Modify.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div v-for=\"(food, index) in datapacket\" :key=\"index\">\n      {{ food.name }}: {{ food.qty }} <br /><br />\n      <input placeholder=\"0\" :id=\"index\" type=\"number\" min=\"0\" /><br /><br />\n    </div>\n    <p>\n      <button id=\"updateBtn\" v-on:click=\"updateOrder()\">Update Order</button>\n    </p>\n  </div>\n</template>\n\n<script>\nimport database from \"../firebase.js\";\nexport default {\n  components: {},\n  data() {\n    return {\n      id: this.$route.params.id,\n      datapacket: [],\n      datapacketCopy: [],\n    };\n  },\n  created() {\n    this.fetchItems();\n  },\n  methods: {\n    fetchItems: function () {\n      console.log(\"entered:\" + this.id);\n      database\n        .collection(\"orders\")\n        .doc(this.id)\n        .get()\n        .then((snapshot) => {\n          this.datapacket = snapshot.data().order;\n        });\n    },\n    updateOrder: function () {\n      console.log(\"checkupdate----- \");\n      for (let i = 0; i < this.datapacket.length; i++) {\n        if (document.getElementById(i).value == \"\") {\n          this.datapacketCopy.push({ name: this.datapacket[i].name, qty: 0 });\n        } else {\n          this.datapacketCopy.push({\n            name: this.datapacket[i].name,\n            qty: document.getElementById(i).value,\n          });\n        }\n      }\n      database\n        .collection(\"orders\")\n        .doc(this.id)\n        .set({\n          order: this.datapacketCopy,\n        })\n        .then(() => {\n          this.$router.push({ name: \"orders\" });\n        });\n    },\n  },\n};\n</script>\n\n<style>\n#updateBtn {\n  width: 165px;\n  height: 30px;\n  background-color: #f7cac9;\n  border-radius: 10px;\n  border-width: 1px;\n}\n</style>\n"]}]}