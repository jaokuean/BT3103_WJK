{"remainingRequest":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/babel-loader/lib/index.js!/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/src/components/Home.vue","mtime":1614801016300},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaokueanwong/Files/NUS/Y2S2/BT3103 Application Systems Development /Wk6/bt3103_wk6/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFF1YW50aXR5Q291bnRlciBmcm9tICIuL1F1YW50aXR5Q291bnRlci52dWUiOwppbXBvcnQgQmFza2V0IGZyb20gIi4vQmFza2V0LnZ1ZSI7CmltcG9ydCBkYXRhYmFzZSBmcm9tICIuLi9maXJlYmFzZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXNMaXN0OiBbXSwKICAgICAgaXRlbXNTZWxlY3RlZDogW10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBxdHlDb3VudGVyOiBRdWFudGl0eUNvdW50ZXIsCiAgICBiYXNrZXQ6IEJhc2tldAogIH0sCiAgbWV0aG9kczogewogICAgb25Db3VudGVyOiBmdW5jdGlvbiBvbkNvdW50ZXIoaXRlbSwgY291bnQpIHsKICAgICAgaWYgKHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGggPT09IDAgJiYgY291bnQgPiAwKSB7CiAgICAgICAgLy9JZiB0aGVyZSBpcyBub3RoaW5nIGluIGl0ZW1zIHNlbGVjdGVkLCBwdXNoIHRoZSBPUkRFUiBpbgogICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5wdXNoKFtpdGVtLm5hbWUsIGNvdW50LCBpdGVtLnByaWNlXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZXJ5dGhpbmcgdG8gY2hlY2sgd2hhdCBpcyBub3QgaW4gdGhlIGJhc2tldAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY3Vycl9pdGVtID0gdGhpcy5pdGVtc1NlbGVjdGVkW2ldOwogICAgICAgICAgdmFyIGl0ZW1fbmFtZSA9IGN1cnJfaXRlbVswXTsKICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwoKICAgICAgICAgIGlmIChpdGVtX25hbWUgPT09IGl0ZW0ubmFtZSAmJiBjb3VudCA+IDApIHsKICAgICAgICAgICAgLy8gaWYgaXRlbV9uYW1lIGlzIHRoZSBzYW1lIGFzIGl0ZW0ubmFtZSBhbmQgdGhlIGNvdW50IGlzIG1vcmUgdGhhbiAwLCB1cGRhdGUgdGhpcy5pdGVtc1NlbGVjdGVkCiAgICAgICAgICAgIHRoaXMuaXRlbXNTZWxlY3RlZC5zcGxpY2UoaSwgMSwgW2N1cnJfaXRlbVswXSwgY291bnQsIGN1cnJfaXRlbVsyXV0pOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGl0ZW1fbmFtZSA9PT0gaXRlbS5uYW1lICYmIGNvdW50ID09PSAwKSB7CiAgICAgICAgICAgIC8vIE5leHQsIGl0ZW1fbmFtZSBpcyB0aGUgc2FtZSBhcyBpdGVtLm5hbWUgYW5kIHRoZSBjb3VudCBpcyAwLCByZW1vdmUgaXQgZnJvbSBpdGVtc1NlbGVjdGVkLgogICAgICAgICAgICB0aGlzLml0ZW1zU2VsZWN0ZWQuc3BsaWNlKHRoaXMuaXRlbXNTZWxlY3RlZC5pbmRleE9mKGN1cnJfaXRlbSksIDEpOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBvdGhlcndpc2UsIGlmIHRoZSBpdGVtIGlzIG5vdCBpbiBpdGVtU2VsZWN0ZWQsIGFkZCBpdCB0byBpdGVtc1NlbGVjdGVkIGJ5IHB1c2hpbmcgdGhlIE9SREVSIGluLgoKCiAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgdGhpcy5pdGVtc1NlbGVjdGVkLnB1c2goW2l0ZW0ubmFtZSwgY291bnQsIGl0ZW0ucHJpY2VdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbiBmZXRjaEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbigibWVudSIpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcFNob3QpIHsKICAgICAgICB2YXIgaXRlbSA9IHt9OwogICAgICAgIHF1ZXJ5U25hcFNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICBpdGVtID0gZG9jLmRhdGEoKTsKICAgICAgICAgIGl0ZW0uc2hvdyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLml0ZW1zTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoSXRlbXMoKTsKICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAeA,OAAA,eAAA,MAAA,uBAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,OAAA,QAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,eADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAPA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,KAAA,aAAA,CAAA,MAAA,KAAA,CAAA,IAAA,KAAA,GAAA,CAAA,EAAA;AACA;AACA,aAAA,aAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AACA,OAHA,MAGA;AACA;AAEA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,SAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,cAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AACA,cAAA,KAAA,GAAA,KAAA;;AAEA,cAAA,SAAA,KAAA,IAAA,CAAA,IAAA,IAAA,KAAA,GAAA,CAAA,EAAA;AACA;AACA,iBAAA,aAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CACA,SAAA,CAAA,CAAA,CADA,EAEA,KAFA,EAGA,SAAA,CAAA,CAAA,CAHA,CAAA;AAKA,YAAA,KAAA,GAAA,IAAA;AACA;;AACA,cAAA,SAAA,KAAA,IAAA,CAAA,IAAA,IAAA,KAAA,KAAA,CAAA,EAAA;AACA;AACA,iBAAA,aAAA,CAAA,MAAA,CAAA,KAAA,aAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA;AACA;AACA,SAtBA,CAwBA;;;AACA,YAAA,CAAA,KAAA,EAAA;AACA,eAAA,aAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,CAAA;AACA;AACA;AACA,KAlCA;AAmCA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,MAAA,QAAA,CACA,UADA,CACA,MADA,EAEA,GAFA,GAGA,IAHA,CAGA,UAAA,aAAA,EAAA;AACA,YAAA,IAAA,GAAA,EAAA;AACA,QAAA,aAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAJA;AAKA,OAVA;AAWA;AA/CA,GAXA;AA4DA,EAAA,OA5DA,qBA4DA;AACA,SAAA,UAAA;AACA;AA9DA,CAAA","sourcesContent":["<template>\n  <div id=\"itemsList\">\n    <ul id=\"menu\">\n      <li id=\"menuItems\" v-for=\"(item, index) in itemsList\" :key=\"index\">\n        <p id=\"itemName\">{{ item.name }}</p>\n        <p><img v-bind:src=\"item.imageURL\" alt=\"Image\" /></p>\n        <p id=\"price\">${{ item.price }}</p>\n        <qtyCounter v-on:counter=\"onCounter\" v-bind:item=\"item\"></qtyCounter>\n      </li>\n    </ul>\n    <basket id=\"shoppingBasket\" v-bind:basketList=\"itemsSelected\"></basket>\n  </div>\n</template>\n\n<script>\nimport QuantityCounter from \"./QuantityCounter.vue\";\nimport Basket from \"./Basket.vue\";\nimport database from \"../firebase.js\";\n\nexport default {\n  data() {\n    return {\n      itemsList: [],\n      itemsSelected: [],\n    };\n  },\n  components: {\n    qtyCounter: QuantityCounter,\n    basket: Basket,\n  },\n  methods: {\n    onCounter: function (item, count) {\n      if (this.itemsSelected.length === 0 && count > 0) {\n        //If there is nothing in items selected, push the ORDER in\n        this.itemsSelected.push([item.name, count, item.price]);\n      } else {\n        // Loop through everything to check what is not in the basket\n\n        for (let i = 0; i < this.itemsSelected.length; i++) {\n          const curr_item = this.itemsSelected[i];\n          const item_name = curr_item[0];\n          var found = false;\n\n          if (item_name === item.name && count > 0) {\n            // if item_name is the same as item.name and the count is more than 0, update this.itemsSelected\n            this.itemsSelected.splice(i, 1, [\n              curr_item[0],\n              count,\n              curr_item[2],\n            ]);\n            found = true;\n          }\n          if (item_name === item.name && count === 0) {\n            // Next, item_name is the same as item.name and the count is 0, remove it from itemsSelected.\n            this.itemsSelected.splice(this.itemsSelected.indexOf(curr_item), 1);\n            found = true;\n          }\n        }\n\n        // otherwise, if the item is not in itemSelected, add it to itemsSelected by pushing the ORDER in.\n        if (!found) {\n          this.itemsSelected.push([item.name, count, item.price]);\n        }\n      }\n    },\n    fetchItems: function () {\n      database\n        .collection(\"menu\")\n        .get()\n        .then((querySnapShot) => {\n          let item = {};\n          querySnapShot.forEach((doc) => {\n            item = doc.data();\n            item.show = false;\n            this.itemsList.push(item);\n          });\n        });\n    },\n  },\n  created() {\n    this.fetchItems();\n  },\n};\n</script>\n\n<style>\nh1 {\n  width: 100%;\n  padding: 10px;\n  background-color: lightsalmon;\n}\n#itemsList {\n  width: 100%;\n  max-width: 70%;\n  margin: 0px;\n  padding: 0 5px;\n  box-sizing: border-box;\n}\n#menu {\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding: 0;\n}\n#menuItems {\n  flex-grow: 1;\n  flex-basis: 300px;\n  text-align: center;\n  padding: 10px;\n  border: 1px solid #222;\n  margin: 10px;\n}\nimg {\n  width: 135px;\n  height: 135px;\n}\n\n#price {\n  font-size: 30px;\n}\n\n#itemName {\n  font-size: 30px;\n}\n\n#shoppingBasket {\n  position: absolute;\n  top: 23%;\n  left: 78%;\n}\n</style>\n\n"],"sourceRoot":"src/components"}]}